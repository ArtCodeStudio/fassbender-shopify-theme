<shopify-tda-instagram
  instagram-id="{{section.settings.instagram_id}}"
  open-links="{{section.settings.open-links}}"
  limit="{{section.settings.limit}}"
  >
  <div class="row">
    <div class="col-12 col-sm-4 px-0 embed-responsive embed-responsive-1by1 lazy" rv-each-image="media.data" rv-add-class="image.media_type" rv-data-url="image.permalink" rv-touch-events rv-on-doubletap="onTap">
      {% comment %} IMAGE {% endcomment %}
      <img loading="lazy" class="embed-responsive-item" rv-if="image.media_type | eq 'IMAGE'" rv-src="image.media_url" rv-src="image.media_url" rv-alt="image.caption">

      {% comment %} CAROUSEL_ALBUM {% endcomment %}
      <img loading="lazy" class="embed-responsive-item" rv-if="image.media_type | eq 'CAROUSEL_ALBUM'" rv-src="image.media_url" rv-src="image.media_url" rv-alt="image.caption">
      
      {% comment %} VIDEO {% endcomment %}
      <fsbdr-video class="" rv-co-video-src="image.media_url" rv-show="image.media_type | eq 'VIDEO'">
        {% comment %} VIDEO {% endcomment %}
        <video class="embed-responsive-item" autoplay muted loop preload playsinline webkit-playsinline>
          <source rv-src="videoSrc" type="video/mp4">
          Your browser does not support the video tag.
        </video>
        <div rv-hide="controls" class="video-custom-controls">
          <bs4-icon rv-hide="muted" rv-on-click="toggleMute" size="50" class="video-volume-high" src="{{ 'icon_volume-high_alt.svg' | asset_url }}"></bs4-icon>
          <bs4-icon rv-show="muted" rv-on-click="toggleMute" size="50" class="video-volume-mute" src="{{ 'icon_vol-mute_alt.svg' | asset_url }}"></bs4-icon>
        </div>
      </fsbdr-video>

      {% comment %} hover info {% endcomment %}
      <div class="embed-responsive-item caption d-none d-md-flex align-items-center" rv-text="image.caption">
      </div>
    </div>
  </div>
</shopify-tda-instagram>

{% schema %}
  {
    "name": "Instagram Grid",
    "class": "instagram",
    "settings": [
      {
        "type": "text",
        "id": "instagram_id",
        "label": "Instagram ID"
      },
      {
        "type":      "checkbox",
        "id":        "open-links",
        "label":     "Go to Instagram on tab",
        "default":   true
      },
      {
        "type":      "range",
        "id":        "limit",
        "label":     "Limit",
        "min":       10,
        "max":       100,
        "default":   60
      }
    ],
    "blocks": [],
    "presets": [
      {
        "category": "Custom Content",
        "name": "Instagram Grid",
        "blocks": []
      }
    ]
  }
{% endschema %}
