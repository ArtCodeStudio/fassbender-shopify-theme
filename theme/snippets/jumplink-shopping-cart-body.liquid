{% if showLoginHeader %}
  {% include 'jumplink-shopping-cart-account-header' %}
{% endif %}

<form rv-if="cart" action="/cart" method="post">
  {% include 'jumplink-shopping-cart-list-items' %}

  <div class="shopping-cart-dropdown-footer">
    <div rv-hide="cart.item_count | eq 0">

      {% comment %} shippingRates {% endcomment %}
      {% if estimateShippingRate %}
        <div class="row mb-3">
          <div rv-if="shippingRates | size | gt 0" class="col-12">
            <div class="row">
              <div class="col-auto d-flex flex-column justify-content-center">
                <strong>
                  Estimated Shipping
                </strong>
              </div>
              <div rv-each-shipping="shippingRates" class="col-12 d-flex flex-column justify-content-center">
                  {shipping.name}
                <p class="my-0" rv-text="shipping.price | money '{{ shop.money_format }}'"></p>
              </div>
            </div>
          </div>
        </div>
      {% endif %}

      {% comment %} Total price an buy button {% endcomment %}
      <div class="row" rv-hide="cart.item_count | eq 0">
        <div class="col-auto d-flex flex-column justify-content-center">
          <strong>
            <span rv-text="cart.item_count"></span>
            Items
          </strong>
          <p class="my-0" rv-text="cart.total_price | money '{{ shop.money_format }}'"></p>
          <p class="my-0">Free Shipping</p>
        </div>

        <div class="col d-flex flex-column align-items-end justify-content-center">
          <button type="submit" name="checkout" class="btn btn-animated-underline-dark font-weight-bold">Buy</button>
        </div>
      </div>

      {% if showCartPageLink %}
        <p class="mb-0 mt-3">
          <strong rv-on-click="closeDropdowns">
            <a class="text-normal" rv-route="'/cart'" rv-route-class-active="'/cart'" href="/cart">View Shopping Bag</a>
          </strong>
        </p>
      {% endif %}
    
    </div>

    <div rv-show="cart.item_count | eq 0">
      <div class="row" rv-show="cart.item_count | eq 0">
        <div class="col-auto">
          <strong>No Items yet</strong>
        </div>
      </div>
    </div>
  </div>
</form>